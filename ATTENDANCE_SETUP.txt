===============================================
ATTENDANCE MANAGEMENT SYSTEM - QUICK SETUP
===============================================

üéØ WHAT IS THIS?
Automatically calculates student attendance based on vacation records.
Subtracts vacation days from total days in month.

===============================================
SETUP STEPS
===============================================

STEP 1: Import Database Table
------------------------------
1. Open phpMyAdmin
2. Select database: hostel_db
3. Click "SQL" tab
4. Copy content from: attendance_table.sql
5. Paste and click "Go"
6. Success! ‚úÖ

STEP 2: Refresh Your Browser
-----------------------------
1. Press Ctrl + F5 (hard refresh)
2. Look for "Attendance" in sidebar
3. Click it!

STEP 3: Calculate Attendance
-----------------------------
1. Select a student
2. Select month (e.g., October)
3. Select year (e.g., 2024)
4. Click "Calculate"
5. View results! üìä

===============================================
HOW IT WORKS
===============================================

CALCULATION FORMULA:
-------------------
Total Days = Days in selected month
Vacation Days = Days on vacation (from vacation records)
Present Days = Total Days - Vacation Days
Attendance % = (Present Days / Total Days) √ó 100

EXAMPLE:
--------
Month: October 2024
Total Days: 31
Vacation: Oct 10-17 (8 days)
Present: 31 - 8 = 23 days
Attendance: 23/31 = 74.19%

===============================================
SPECIAL RULE: 12 AM LOGIC
===============================================

If check-out time is 12:00 AM (00:00) or later:
‚Üí Vacation starts NEXT DAY

Examples:
---------
Check-out: Oct 10 at 11:30 PM ‚Üí Vacation starts Oct 10
Check-out: Oct 10 at 12:00 AM ‚Üí Vacation starts Oct 11 ‚úÖ
Check-out: Oct 10 at 08:00 AM ‚Üí Vacation starts Oct 11 ‚úÖ

Why? Because if they check out at midnight or later,
they were present for that full day.

===============================================
WHAT YOU'LL SEE
===============================================

SUMMARY CARDS:
--------------
üìä Total Days (Blue)
‚úàÔ∏è Vacation Days (Orange)
‚úÖ Present Days (Green)
üìà Attendance % (Purple)

CALENDAR VIEW:
--------------
Green boxes = Present days
Orange boxes = Vacation days
Gray boxes = Future days (not counted)

VACATION DETAILS:
-----------------
Table showing:
- Start date
- End date
- Number of days
- Destination

ATTENDANCE HISTORY:
-------------------
All previous calculations
Can delete if needed

===============================================
IMPORTANT NOTES
===============================================

‚úÖ Only VACATION type counts (not gate pass)
‚úÖ Gate pass = short-term (few hours) ‚Üí NOT counted
‚úÖ Vacation = long-term (days) ‚Üí COUNTED as absent

‚úÖ Current month: Only counts up to today
   Example: If today is Oct 15, total = 15 days

‚úÖ Can re-calculate anytime
   System updates existing record

‚úÖ Handles vacations spanning multiple months
   Only counts days within selected month

===============================================
FEATURES
===============================================

‚úÖ Automatic calculation
‚úÖ Smart 12 AM rule
‚úÖ Visual calendar
‚úÖ Vacation breakdown
‚úÖ Attendance history
‚úÖ Color-coded display
‚úÖ Re-calculation support
‚úÖ Delete records
‚úÖ Month/Year selection
‚úÖ Percentage tracking

===============================================
USE CASES
===============================================

1. MONTHLY REPORTS
   - Calculate for all students
   - Track attendance trends
   - Generate reports

2. MONITORING
   - Identify low attendance (<75%)
   - Send warnings
   - Track improvement

3. ACADEMIC REQUIREMENTS
   - Verify minimum attendance
   - Eligibility checks
   - Certificate generation

4. PARENT COMMUNICATION
   - Share attendance reports
   - Explain vacation impact
   - Transparency

===============================================
TESTING
===============================================

Test Scenario 1: No Vacation
----------------------------
Student: Any student
Month: Current month
Expected: 100% attendance

Test Scenario 2: One Vacation
------------------------------
1. Add vacation in checkinManage
2. Calculate attendance
3. Should subtract vacation days

Test Scenario 3: 12 AM Rule
----------------------------
1. Add vacation with checkout at 12:00 AM
2. Calculate attendance
3. Should start from next day

===============================================
NAVIGATION
===============================================

Sidebar ‚Üí Attendance
‚Üì
Select Student, Month, Year
‚Üì
Click "Calculate"
‚Üì
View Results:
- Summary cards
- Calendar view
- Vacation details
- History table

===============================================
FILES CREATED
===============================================

‚úÖ attendance_table.sql
   - Database schema

‚úÖ attendanceManage.php
   - Main UI page

‚úÖ partials/_attendanceManage.php
   - Backend handler

‚úÖ ATTENDANCE_FEATURE_GUIDE.md
   - Detailed documentation

‚úÖ ATTENDANCE_SETUP.txt
   - This quick guide

FILES MODIFIED:
‚úÖ partials/_nav.php
   - Added Attendance link

===============================================
TROUBLESHOOTING
===============================================

Issue: Attendance link not showing
Fix: Clear cache (Ctrl+F5)

Issue: Can't calculate
Fix: Import attendance_table.sql

Issue: Wrong vacation count
Fix: Check vacation records in checkinManage

Issue: 0% attendance
Fix: Ensure vacation records have pass_type='vacation'

===============================================
EXAMPLE WORKFLOW
===============================================

1. Student goes on vacation:
   - Admin enters in Check-in/Check-out
   - Pass type: Vacation
   - Action: Check-out
   - Dates: Oct 10 to Oct 17

2. Calculate attendance:
   - Go to Attendance page
   - Select student
   - Select October 2024
   - Click Calculate

3. Results:
   - Total: 31 days
   - Vacation: 8 days
   - Present: 23 days
   - Attendance: 74.19%

4. View details:
   - Calendar shows orange boxes for Oct 10-17
   - Vacation table shows destination
   - History saved for future reference

===============================================
BENEFITS
===============================================

‚úÖ Automatic Tracking
   - No manual counting
   - Based on actual vacation records

‚úÖ Accurate Calculation
   - Smart 12 AM rule
   - Handles complex scenarios

‚úÖ Visual Representation
   - Easy to understand
   - Color-coded calendar

‚úÖ Historical Data
   - Track over time
   - Compare months

‚úÖ Time Saving
   - Instant calculation
   - No Excel needed

‚úÖ Transparency
   - Clear breakdown
   - Vacation details shown

===============================================
SUMMARY
===============================================

‚úÖ Database table created
‚úÖ Attendance page ready
‚úÖ Navigation link added
‚úÖ Calculation logic implemented
‚úÖ 12 AM rule applied
‚úÖ Visual calendar included
‚úÖ History tracking enabled

READY TO USE! üöÄ

Just import attendance_table.sql and start calculating!

===============================================

Developed for IIITDM Kurnool
Hostel Management System

Track attendance intelligently! üìä‚úÖ
===============================================

===============================================
GATE PASS & VACATION FEATURE - SETUP GUIDE
===============================================

üéâ FEATURE OVERVIEW:
The check-in/check-out system has been upgraded to support TWO distinct types:

1. GATE PASS (Short-term) üïê
   - For students going out for a few hours
   - Quick exits (market, friend's place, etc.)
   - Same-day returns expected

2. VACATION (Long-term) ‚úàÔ∏è
   - For students going home for holidays
   - Semester breaks, festivals, etc.
   - Multi-day absences

===============================================
DATABASE SETUP
===============================================

STEP 1: Update Your Database
-----------------------------
Choose ONE of these options:

Option A - If you have EXISTING data:
   Run: GATEPASS_VACATION_UPDATE.sql
   (This will ADD new columns to existing table)

Option B - If you have NO data (fresh install):
   Run: checkin_checkout_table.sql
   (This will CREATE the table from scratch)

To run the SQL file:
1. Open phpMyAdmin
2. Select your database (hostel_db)
3. Go to "SQL" tab
4. Copy and paste the SQL content
5. Click "Go"

===============================================
NEW DATABASE FIELDS
===============================================

Added Fields:
- pass_type: 'gate-pass' or 'vacation'
- expected_return_date: When student plans to return
- expected_return_time: Expected return time
- destination: Where student is going
- purpose: Reason for leave
- contact_during_leave: Emergency contact number

===============================================
FEATURES
===============================================

‚úÖ GATE PASS TAB
   - Quick entry form
   - Going Out / Returning actions
   - Expected return time
   - Destination & purpose
   - Real-time statistics:
     * Currently out (gate pass)
     * Today's activity

‚úÖ VACATION TAB
   - Detailed vacation form
   - Starting Vacation / Returning actions
   - Expected return date (required)
   - Destination (required)
   - Purpose (required)
   - Emergency contact
   - Real-time statistics:
     * Currently on vacation
     * This month's vacations

‚úÖ ALL RECORDS TAB
   - Combined view of both types
   - Advanced filtering:
     * Filter by type (gate pass/vacation)
     * Filter by action (check-in/check-out)
     * Filter by date
     * Search by student
   - Color-coded badges
   - Delete functionality

===============================================
HOW TO USE
===============================================

FOR GATE PASS:
1. Click "Gate Pass" tab
2. Select student from dropdown
3. Choose action: "Going Out" or "Returning"
4. Date & time auto-filled (can change)
5. Optional: Add expected return time
6. Optional: Add destination & purpose
7. Click "Submit Gate Pass"

FOR VACATION:
1. Click "Vacation" tab
2. Select student from dropdown
3. Choose action: "Starting Vacation" or "Returning"
4. Date & time auto-filled (can change)
5. If going out: Add expected return date
6. Add destination (required)
7. Add purpose (required)
8. Optional: Add emergency contact
9. Click "Submit Vacation Leave"

VIEW ALL RECORDS:
1. Click "All Records" tab
2. Use filters to narrow down:
   - Type: Gate Pass / Vacation
   - Action: Check-in / Check-out
   - Date: Specific date
   - Search: Student name or reg no
3. Click "Clear" to reset filters
4. Click trash icon to delete record

===============================================
VISUAL INDICATORS
===============================================

Type Badges:
üïê Blue Badge = Gate Pass
‚úàÔ∏è Orange Badge = Vacation

Action Badges:
‚úÖ Green Badge = Check-in (Returned)
üö™ Orange Badge = Check-out (Left)

===============================================
STATISTICS CARDS
===============================================

Gate Pass Stats:
- Currently Out: Students who left and haven't returned
- Today's Activity: All gate pass actions today

Vacation Stats:
- Currently on Vacation: Students on vacation
- This Month: All vacation activities this month

===============================================
FILES MODIFIED
===============================================

‚úÖ checkin_checkout_table.sql
   - Updated table schema
   - Added new fields
   - Updated view

‚úÖ GATEPASS_VACATION_UPDATE.sql (NEW)
   - ALTER TABLE script for existing data

‚úÖ checkinManage.php
   - Complete redesign with tabs
   - Separate forms for gate pass & vacation
   - Enhanced statistics
   - Advanced filtering

‚úÖ partials/_checkinManage.php
   - Updated backend logic
   - Support for new fields
   - Validation for both types

‚úÖ checkinManage_backup.php (BACKUP)
   - Your old file (just in case)

===============================================
FIELD REQUIREMENTS
===============================================

GATE PASS (Going Out):
Required:
- Student
- Action Type
- Date
- Time

Optional:
- Expected return date/time
- Destination
- Purpose
- Remarks

VACATION (Starting):
Required:
- Student
- Action Type
- Date
- Time
- Expected return date
- Destination
- Purpose

Optional:
- Expected return time
- Emergency contact
- Remarks

===============================================
BENEFITS
===============================================

‚úÖ Clear Separation
   - Gate passes and vacations tracked separately
   - Different workflows for different needs

‚úÖ Better Tracking
   - Know who's out for a few hours vs. days
   - Expected return dates for planning

‚úÖ Enhanced Reporting
   - Separate statistics for each type
   - Better insights into student movement

‚úÖ More Information
   - Destination tracking
   - Purpose documentation
   - Emergency contacts for vacations

‚úÖ User-Friendly
   - Tab-based interface
   - Color-coded for easy identification
   - Advanced filtering options

===============================================
EXAMPLE SCENARIOS
===============================================

Scenario 1: Student Going to Market
- Use: Gate Pass tab
- Action: Going Out
- Expected return: Same day, 2 hours
- Destination: City Market
- Purpose: Shopping

Scenario 2: Student Going Home for Diwali
- Use: Vacation tab
- Action: Starting Vacation
- Expected return: 7 days later
- Destination: Home Town, Mumbai
- Purpose: Diwali Festival
- Emergency contact: Parent's number

Scenario 3: Student Returning from Vacation
- Use: Vacation tab
- Action: Returning
- Just select student and submit

===============================================
TROUBLESHOOTING
===============================================

Issue: "Unknown column 'pass_type'"
Fix: Run GATEPASS_VACATION_UPDATE.sql

Issue: Forms not showing
Fix: Clear browser cache (Ctrl+F5)

Issue: Statistics showing wrong numbers
Fix: Ensure all old records have pass_type set

Issue: Can't submit vacation without destination
Fix: This is required - add destination

===============================================
TESTING CHECKLIST
===============================================

‚ñ° Database updated successfully
‚ñ° Gate Pass tab loads
‚ñ° Vacation tab loads
‚ñ° All Records tab loads
‚ñ° Can submit gate pass (going out)
‚ñ° Can submit gate pass (returning)
‚ñ° Can submit vacation (starting)
‚ñ° Can submit vacation (returning)
‚ñ° Statistics update correctly
‚ñ° Filters work properly
‚ñ° Search works
‚ñ° Delete works
‚ñ° Color badges display correctly

===============================================
SUMMARY
===============================================

‚úÖ Two distinct types: Gate Pass & Vacation
‚úÖ Separate tabs for each type
‚úÖ Enhanced forms with more fields
‚úÖ Real-time statistics for both types
‚úÖ Advanced filtering and search
‚úÖ Color-coded visual indicators
‚úÖ Better tracking and reporting
‚úÖ User-friendly interface

READY TO USE! üöÄ

===============================================

Developed for IIITDM Kurnool
Hostel Management System

Now you can track both short-term exits
and long-term vacations efficiently! üéâ
===============================================
